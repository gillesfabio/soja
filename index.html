<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Watai</title>
		<link href='http://fonts.googleapis.com/css?family=Lato:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap.min.css">
		<link rel="stylesheet" href="vendor/bootstrap/dist/css/bootstrap-theme.min.css">
		<link rel="stylesheet" href="vendor/font-awesome/css/font-awesome.min.css">
		<link rel="stylesheet" href="app/styles/main.css">
		<script data-main="app/main" src="vendor/requirejs/require.js"></script>
	</head>
	<body>
		<div class="navbar navbar-default navbar-static-top">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#">Watai</a>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li class="active"><a href="#">Runner</a></li>
					</ul>
					<div class="pull-right">
  						<button type="button" class="btn btn-primary btn-default navbar-btn" id="watai-start"><i class="icon-play"></i></button>
  						<button type="button" class="btn btn-warning btn-default navbar-btn" id="watai-stop"><i class="icon-stop"></i></button>
  					</div>
				</div>
			</div>
		</div>
		<div id="content" class="container">
		</div>

		<script type="text/template" id="runner-info-template">
			<div class="panel panel-default">
				<div class="panel-heading">
					<h3 class="panel-title">Information</h3>
				</div>
				<div class="panel-body">
					<ul class="list-unstyled">
						<li>
							<i class="icon-time"></i> <strong>Last session:</strong>
							<%= lastSessionDate ? lastSessionDate : 'never' %>
						</li>
						<li class="<%= connected ? 'list-item-ok' : 'list-item-failure' %>">
							<i class="<%= connected ? 'icon-thumbs-up-alt' : 'icon-thumbs-down-alt' %>"></i>
							<strong>Server:</strong> <%= connected ? 'connected' : 'not connected' %>
						</li>
					</ul>
				</div>
			</div>
		</script>

		<script type="text/template" id="runner-template">
			<div class="row">
				<div id="runner-info" class="col-md-12"></div>
			</div>
			<div class="row">
				<div class="col-md-12">
					<% if (features.length) { %>
					<div id="runner-tests">
						<div class="panel panel-default">
							<div class="panel-heading">
								<h3 class="panel-title"><%= runner.description %></h3>
							</div>
							<div class="panel-body feature">
								<ul class="list-unstyled" id="runner-features">
									<% _.each(features, function(feature) { %>
									<% var feature = feature.toJSON() %>
									<li class="<%= feature.state === 'success' ? 'feature-success' : 'feature-failure' %>">
										<i class="icon-<%= feature.state === 'success' ? 'ok' : 'remove' %>"></i>  <%= feature.message %>
										<% if (feature.state === 'failure' && feature.reasons) { %>
											<% _.each(feature.reasons, function(reason, index) { %>
												<h5>Reason #<%= index + 1 %></h5>
												<pre class="runner-failure-reason">
												<%= reason %>
												</pre>
											<% }); %>
										<% } %>
									</li>
									<% }); %>
								</ul>
							</div>
						</div>
					</div>
					<% } %>
				</div>
			</div>
		</script>
	</body>
</html>
